<app-navbar></app-navbar>

<app-loading *ngIf="!dataArrived"></app-loading>

<main class="centered-content scroll-standalone under-navbar flex-col" *ngIf="dataArrived">
	<app-post [paramId]="postId.toString()"></app-post>
	<form class="card flex-col width-full margin-0-top" [formGroup]="addCommentFormGroup" (ngSubmit)="addComment()">
		<textarea rows="1" placeholder="Add a new comment" class="textarea-new-msg border-faded-slim border-bottom-only padding-dot2 margin-bot-dot5" formControlName="newComment"></textarea>
		<button class="border-faded-slim padding-dot2 lighter-hover click-effect border-radius-dot3" type="submit">
			Add Comment
		</button>
	</form>
	<hr class="card-hr">
	<section>
		<div class="text-centered" *ngIf="post?.comments?.length === 0">
			Nobody has comented on this post yet!<br>
			Try refreshing the page!
		</div>
		<div class="comment" *ngFor="let comm of post?.comments">
			<app-comment [paramId]="comm.id.toString()"></app-comment>
		</div>
	</section>
</main>
